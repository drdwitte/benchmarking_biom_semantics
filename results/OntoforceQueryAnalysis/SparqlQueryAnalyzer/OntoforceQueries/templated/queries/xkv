PREFIX owl: <http://www.w3.org/2002/07/owl#> PREFIX  dc: <http://purl.org/dc/elements/1.1/> PREFIX  rdfs: <http://www.w3.org/2000/01/rdf-schema#> PREFIX  rdf:  <http://www.w3.org/1999/02/22-rdf-syntax-ns#> PREFIX  dcterms: <http://purl.org/dc/terms/> SELECT (COUNT(DISTINCT ?val) as ?total_count) WHERE { { SELECT ?original ?id ?val WHERE { ?original <http://ns.ontoforce.com/2013/disqover#preferredUri> ?id. ?original_1 <http://ns.ontoforce.com/ontologies/drugchemical/affectedOrganism> ?val. ?original_2 ?facet_source_1 ?facet_value_1. FILTER(?facet_source_1 = <http://www.w3.org/1999/02/22-rdf-syntax-ns#type>) FILTER (?facet_value_1 IN (<http://ns.ontoforce.com/ontologies/drugchemical/classes/meshDrugChemical>, <http://ns.ontoforce.com/ontologies/medicine/classes/substance>, <http://ns.ontoforce.com/ontologies/drugchemical/classes/cofactor>, <http://ns.ontoforce.com/ontologies/integration_ontology#DrugIntervention>, <http://rdf.ebi.ac.uk/terms/chembl#OligosaccharideTarget>, <http://ns.ontoforce.com/ontologies/drugchemical/classes/Compound>, <http://rdf.ebi.ac.uk/terms/chembl#SmallMoleculeTarget>, <http://rdf.ebi.ac.uk/terms/chembl#SmallMolecule>, <http://ns.ontoforce.com/ontologies/drugchemical/classes/Substance>, <http://ns.ontoforce.com/ontologies/drugchemical/classes/Drug>, <http://ns.ontoforce.com/ontologies/dailymed/Drug>)) ?original_3 ?facet_source_2 ?facet_value_2. FILTER(?facet_source_2 = <http://ns.ontoforce.com/ontologies/drugchemical/highestDevelopmentPhase>) FILTER(?facet_value_2 = <http://ns.ontoforce.com/ontologies/chembl/4>) { OPTIONAL{ ?original_4 <http://ns.ontoforce.com/2013/disqover#preferredUri> ?id. { ?original_4 <http://ns.ontoforce.com/ontologies/drugchemical/group> ?facet_value_3 } } } UNION { ?original_5 ?facet_source_3 ?facet_value_4. FILTER(?facet_source_3 = <http://ns.ontoforce.com/ontologies/drugchemical/group>) FILTER(?facet_value_4 = <http://ns.ontoforce.com/ontologies/drugchemical/withdrawn>) } ?original_1 <http://ns.ontoforce.com/2013/disqover#preferredUri> ?id. ?original_2 <http://ns.ontoforce.com/2013/disqover#preferredUri> ?id. ?original_3 <http://ns.ontoforce.com/2013/disqover#preferredUri> ?id. ?original_5 <http://ns.ontoforce.com/2013/disqover#preferredUri> ?id. FILTER(!BOUND(?facet_value_3)) } } UNION { SELECT ?original ?id ?val WHERE { ?original <http://ns.ontoforce.com/ontologies/drugchemical/affectedOrganism> ?val. ?original ?facet_source_4 ?facet_value_5. FILTER(?facet_source_4 = <http://www.w3.org/1999/02/22-rdf-syntax-ns#type>) FILTER (?facet_value_5 IN (<http://ns.ontoforce.com/ontologies/drugchemical/classes/meshDrugChemical>, <http://ns.ontoforce.com/ontologies/medicine/classes/substance>, <http://ns.ontoforce.com/ontologies/drugchemical/classes/cofactor>, <http://ns.ontoforce.com/ontologies/integration_ontology#DrugIntervention>, <http://rdf.ebi.ac.uk/terms/chembl#OligosaccharideTarget>, <http://ns.ontoforce.com/ontologies/drugchemical/classes/Compound>, <http://rdf.ebi.ac.uk/terms/chembl#SmallMoleculeTarget>, <http://rdf.ebi.ac.uk/terms/chembl#SmallMolecule>, <http://ns.ontoforce.com/ontologies/drugchemical/classes/Substance>, <http://ns.ontoforce.com/ontologies/drugchemical/classes/Drug>, <http://ns.ontoforce.com/ontologies/dailymed/Drug>)) ?original ?facet_source_5 ?facet_value_6. FILTER(?facet_source_5 = <http://ns.ontoforce.com/ontologies/drugchemical/highestDevelopmentPhase>) FILTER(?facet_value_6 = <http://ns.ontoforce.com/ontologies/chembl/4>) { OPTIONAL{ { ?original <http://ns.ontoforce.com/ontologies/drugchemical/group> ?facet_value_7 } } } UNION { ?original ?facet_source_6 ?facet_value_8. FILTER(?facet_source_6 = <http://ns.ontoforce.com/ontologies/drugchemical/group>) FILTER(?facet_value_8 = <http://ns.ontoforce.com/ontologies/drugchemical/withdrawn>) } OPTIONAL { ?original <http://ns.ontoforce.com/2013/disqover#preferredUri> ?id. } FILTER(!BOUND(?id)) FILTER(!BOUND(?facet_value_3)) FILTER(!BOUND(?facet_value_7)) } } } 
