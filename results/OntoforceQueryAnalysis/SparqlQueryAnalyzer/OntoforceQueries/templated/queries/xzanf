PREFIX owl: <http://www.w3.org/2002/07/owl#> PREFIX  dc: <http://purl.org/dc/elements/1.1/> PREFIX  rdfs: <http://www.w3.org/2000/01/rdf-schema#> PREFIX  rdf:  <http://www.w3.org/1999/02/22-rdf-syntax-ns#> PREFIX  dcterms: <http://purl.org/dc/terms/> SELECT ?val (coalesce(?label, ?val) AS ?val_label) ?vc WHERE { {SELECT ?val (COUNT(DISTINCT ?id) as ?vc) WHERE { ?id <http://purl.obolibrary.org/obo/ERO_0001534> ?val. ?id ?facet_source_1 ?facet_value_1. FILTER(?facet_source_1 = <http://www.w3.org/1999/02/22-rdf-syntax-ns#type>) FILTER (?facet_value_1 IN (<http://purl.obolibrary.org/obo/ERO_0000230>, <http://purl.obolibrary.org/obo/ERO_0000229>)) OPTIONAL{ ?id <http://ns.ontoforce.com/2013/disqover#source_organism> ?facet_value_2. } FILTER(!BOUND(?facet_value_2)) } GROUP BY ?val} OPTIONAL{ ?val <http://ns.ontoforce.com/2013/disqover#preferredLabel> ?label} } ORDER BY DESC(?vc) ?val_label LIMIT 18 OFFSET 0 
