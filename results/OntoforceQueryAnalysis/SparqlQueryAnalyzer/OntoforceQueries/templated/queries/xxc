PREFIX owl: <http://www.w3.org/2002/07/owl#> PREFIX  dc: <http://purl.org/dc/elements/1.1/> PREFIX  rdfs: <http://www.w3.org/2000/01/rdf-schema#> PREFIX  rdf:  <http://www.w3.org/1999/02/22-rdf-syntax-ns#> PREFIX  dcterms: <http://purl.org/dc/terms/> SELECT (?class AS ?val) (COUNT(DISTINCT ?original) AS ?vc) WHERE { ?original a ?class . { SELECT ?original ?assoc WHERE { ?original <http://ns.ontoforce.com/2013/disqover#preferredUri> ?assoc. FILTER (!bound(?original_1)) ?original_1 <http://ns.ontoforce.com/2013/disqover#preferredUri> ?assoc. FILTER(!BOUND(?facet_value_2)) } } UNION { SELECT ?original ?assoc WHERE { FILTER (!bound(?original)) OPTIONAL { ?original <http://ns.ontoforce.com/2013/disqover#preferredUri> ?assoc. } FILTER(!BOUND(?assoc)) FILTER(!BOUND(?facet_value_2)) } } } GROUP BY ?class 
